# Postman 測試報告生成器

## 專案概述

這是一個專為 Postman 測試結果設計的 HTML 報告生成工具，能夠將 Postman 測試執行的 JSON 結果轉換為美觀、互動式的 HTML 報告。

## 功能特色

### 🎯 核心功能
- **自動化報告生成**：將 Postman 測試結果 JSON 轉換為完整的 HTML 報告
- **完整數據嵌入**：所有測試數據直接嵌入 HTML，無需外部依賴
- **離線可用**：生成的報告為獨立 HTML 文件，可離線查看

### 📊 視覺化統計
- **測試摘要卡片**：請求總數、成功率、錯誤統計
- **效能指標**：平均耗時、P90、P95 百分位數
- **測試結果統計**：通過/失敗測試數量及比例

### 🔍 互動式功能
- **多維度篩選**：
  - 關鍵字搜尋（名稱/URL/測試名稱）
  - HTTP Method 篩選
  - 狀態碼分類篩選（2xx/4xx/5xx）
  - 測試結果篩選（全通過/含失敗）
- **靈活排序**：
  - 原始順序
  - 耗時排序（高→低/低→高）
  - 測試數量排序
  - 狀態碼排序
  - 名稱字母排序
- **可調整慢速閾值**：自定義效能警告標準

### 📱 響應式設計
- **桌面優化**：完整表格檢視
- **行動裝置適配**：卡片式佈局
- **深色主題**：現代化視覺設計

### 🔎 詳細檢視
- **點擊展開**：每個測試項目可展開查看詳細資訊
- **測試摘要**：所有測試案例的通過/失敗狀態
- **耗時分佈**：多次執行的時間統計
- **執行歷史**：每次執行的詳細測試結果
- **原始數據**：JSON 格式的原始測試數據

## 檔案結構

```
Postman Report/
├── generate_report.py          # 主要的報告生成腳本
├── Postman 測試報告 HTML.html   # 生成的 HTML 報告範例
└── README.md                   # 本說明文件
```

## 使用方法

### 1. 準備測試數據
確保您有 Postman 測試執行後的 JSON 結果檔案。

### 2. 執行生成腳本
```bash
python3 generate_report.py
```

### 3. 配置輸入檔案
修改 `generate_report.py` 中的檔案路徑：
```python
json_file = '/path/to/your/postman_test_results.json'
```

### 4. 查看報告
生成的 HTML 檔案可直接在瀏覽器中開啟，支援所有現代瀏覽器。

## 技術規格

### 相依性
- **Python 3.x**
- **標準庫**：`json`, `os`
- **無外部相依**：純 Python 標準庫實作

### 支援的瀏覽器
- Chrome/Chromium 60+
- Firefox 55+
- Safari 12+
- Edge 79+

### 輸入格式要求
JSON 檔案必須包含以下結構：
```json
{
  "id": "測試執行 ID",
  "name": "測試集合名稱",
  "timestamp": "結束時間",
  "startedAt": "開始時間",
  "totalPass": 通過測試數,
  "totalFail": 失敗測試數,
  "results": [
    {
      "name": "測試名稱",
      "url": "測試 URL",
      "time": 執行時間,
      "responseCode": {
        "code": HTTP狀態碼,
        "name": "狀態名稱"
      },
      "tests": {
        "測試名稱": true/false
      }
    }
  ]
}
```

## 自訂功能

### 修改樣式
HTML 報告使用 CSS 變數系統，可輕鬆自訂：
```css
:root {
  --primary: #3b82f6;    /* 主色調 */
  --success: #10b981;    /* 成功色 */
  --error: #ef4444;      /* 錯誤色 */
  --warn: #f59e0b;       /* 警告色 */
}
```

### 調整效能閾值
在報告介面中可即時調整慢速請求的判定標準（預設 500ms）。

### 擴展篩選功能
可在 JavaScript 部分新增更多篩選條件：
- 執行時間範圍
- 特定測試案例
- 自訂標籤

## 進階功能

### 手動導入完整數據
報告頁面提供「導入完整 JSON」按鈕，允許：
- 即時更新測試數據
- 載入不同的測試結果
- 無需重新生成 HTML

### 數據匯出
雖然當前版本專注於視覺化呈現，未來可擴展：
- PDF 匯出功能
- Excel 格式匯出
- CSV 數據匯出

## 效能考量

- **大型數據集**：支援數千個測試結果
- **記憶體優化**：漸進式渲染避免瀏覽器卡頓
- **載入速度**：所有資源內嵌，無網路請求

## 故障排除

### 常見問題

**Q: JSON 解析失敗**
A: 檢查 JSON 格式是否正確，確保所有必要欄位存在

**Q: 報告顯示空白**
A: 確認 `results` 陣列不為空，且包含有效的測試數據

**Q: 樣式顯示異常**
A: 確保使用現代瀏覽器，並啟用 JavaScript

**Q: 中文顯示問題**
A: 確保檔案以 UTF-8 編碼儲存

## 授權資訊

本專案為內部工具，請依據組織政策使用。

## 更新日誌

### v1.0.0
- 初始版本發布
- 基本報告生成功能
- 互動式篩選和排序
- 響應式設計
- 深色主題

---

*此工具專為提升 Postman 測試結果的可讀性和分析效率而設計。*
